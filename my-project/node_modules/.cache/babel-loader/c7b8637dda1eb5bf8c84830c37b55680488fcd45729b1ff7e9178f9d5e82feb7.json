{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      form: {\n        nama_lengkap: '',\n        alamat: '',\n        nomor_hp: '',\n        alasan: '',\n        tujuan_donasi: '',\n        nominal: '',\n        bukti1: null,\n        bukti2: null\n      }\n    };\n  },\n  methods: {\n    submitForm() {\n      const user = JSON.parse(localStorage.getItem('user'));\n      console.log(user);\n      if (user) {\n        this.form.alamat = user.alamat;\n\n        // Menggunakan metode POST untuk membuat pengajuan donasi baru\n        axios.post('http://127.0.0.1:8000/api/post-permohonan-donasi', this.form, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(response => {\n          // Tangani respons setelah permintaan berhasil\n          console.log(response.data);\n          // Reset form setelah berhasil mengirim data\n          this.$router.push('/Notifikasi');\n        }).catch(error => {\n          // Tangani kesalahan jika permintaan gagal\n          console.error(error);\n        });\n      }\n    },\n    updateForm(id) {\n      // Menggunakan metode PUT untuk mengupdate pengajuan donasi\n      axios.put(`/api/pengajuan_donasi/${id}`, this.form).then(response => {\n        // Tangani respons setelah permintaan berhasil\n        console.log(response.data);\n        window.location.reload();\n      }).catch(error => {\n        // Tangani kesalahan jika permintaan gagal\n        console.error(error);\n      });\n    },\n    deleteForm(id) {\n      // Menggunakan metode DELETE untuk menghapus pengajuan donasi\n      axios.delete(`/api/pengajuan_donasi/${id}`).then(response => {\n        // Tangani respons setelah permintaan berhasil\n        console.log(response.data);\n        window.location.reload();\n      }).catch(error => {\n        // Tangani kesalahan jika permintaan gagal\n        console.error(error);\n      });\n    },\n    resetForm() {\n      // Mereset nilai form setelah berhasil mengirim data\n      this.form.nama_lengkap = '';\n      this.form.nomor_hp = '';\n      this.form.alasan = '';\n      this.form.tujuan_donasi = '';\n      this.form.nominal = '';\n      this.form.bukti1 = null;\n      this.form.bukti2 = null;\n    },\n    handleFile1(event) {\n      // Mengambil file yang diunggah\n      this.form.bukti1 = event.target.files[0];\n    },\n    handleFile2(event) {\n      // Mengambil file yang diunggah\n      this.form.bukti2 = event.target.files[0];\n    }\n  }\n};","map":{"version":3,"names":["axios","data","form","nama_lengkap","alamat","nomor_hp","alasan","tujuan_donasi","nominal","bukti1","bukti2","methods","submitForm","user","JSON","parse","localStorage","getItem","console","log","post","headers","then","response","$router","push","catch","error","updateForm","id","put","window","location","reload","deleteForm","delete","resetForm","handleFile1","event","target","files","handleFile2"],"sources":["D:\\Project BPF\\my-project\\my-project\\src\\views\\Pelapor\\Pengajuan.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n<section class=\"navbar\">\r\n      <div class=\"logo\"></div>\r\n      <div class=\"button\">\r\n        <router-link to=\"/\" class=\"button-link\">\r\n          <span class=\"text\">Beranda</span>\r\n        </router-link>\r\n        <router-link to=\"/Pengajuan\" class=\"button-link\">\r\n          <span class=\"text\">Hubungi Kami</span>\r\n        </router-link>\r\n        <router-link to=\"/FormDonasi\" class=\"button-link\">\r\n          <span class=\"text\">Pengajuan</span>\r\n        </router-link>\r\n        <router-link to=\"/Login\" class=\"button-link\">\r\n          <span class=\"text\">LogOut</span>\r\n        </router-link>\r\n      </div>\r\n    </section>\r\n<br>\r\n<br>\r\n<br>\r\n  <section class=\"content card\" style=\"padding: 10px 10px 10px 10px \">\r\n    <div class=\"box\">\r\n      <h5 style=\"text-align: center;\">Form Pengajuan Donasi</h5>\r\n      <form @submit.prevent=\"submitForm\" enctype=\"multipart/form-data\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <label for=\"nomor\">Nama</label>\r\n            <input v-model=\"form.nama_lengkap\" type=\"text\" class=\"form-control\" id=\"Nama\" placeholder=\"Nama\" required>\r\n            <label for=\"yth\">No Hp</label>\r\n            <input v-model=\"form.nomor_hp\" type=\"text\" class=\"form-control\" id=\"Nominal\" placeholder=\"No HP\" required>\r\n            <label for=\"yth\">Alasan</label>\r\n            <input v-model=\"form.alasan\" type=\"text\" class=\"form-control\" id=\"Nominal\" placeholder=\"Alasan\" required>\r\n            <label for=\"dari\">Tujuan Donasi</label>\r\n            <input v-model=\"form.tujuan_donasi\" type=\"text\" class=\"form-control bg-light\" id=\"dari\"\r\n              placeholder=\"Tujuan Donasi\" required>\r\n            <label for=\"hari\">Nominal</label>\r\n            <input v-model=\"form.nominal\" class=\"form-control bg-light\" id=\"email\" rows=\"3\" placeholder=\"Nominal\"\r\n              required>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <label for=\"file1\">Unggah Data 1</label>\r\n            <input v-on:change=\"handleFile1\" type=\"file\" class=\"form-control-file\" id=\"bukti1\">\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <label for=\"file2\">Unggah Data 2</label>\r\n            <input v-on:change=\"handleFile2\" type=\"file\" class=\"form-control-file\" id=\"bukti2\">\r\n          </div>\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-red\"> Ajukan</button>\r\n        <router-link to=\"/\" class=\"btn btn-red btn-sm\">Kembali</router-link>\r\n      </form>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        nama_lengkap: '',\r\n        alamat: '',\r\n        nomor_hp: '',\r\n        alasan: '',\r\n        tujuan_donasi: '',\r\n        nominal: '',\r\n        bukti1: null,\r\n        bukti2: null\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      console.log(user);\r\n      if (user) {\r\n        this.form.alamat = user.alamat;\r\n\r\n        // Menggunakan metode POST untuk membuat pengajuan donasi baru\r\n        axios\r\n          .post('http://127.0.0.1:8000/api/post-permohonan-donasi', this.form, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          })\r\n          .then(response => {\r\n            // Tangani respons setelah permintaan berhasil\r\n            console.log(response.data);\r\n            // Reset form setelah berhasil mengirim data\r\n            this.$router.push('/Notifikasi')\r\n          })\r\n          .catch(error => {\r\n            // Tangani kesalahan jika permintaan gagal\r\n            console.error(error);\r\n          });\r\n      }\r\n    },\r\n    updateForm(id) {\r\n      // Menggunakan metode PUT untuk mengupdate pengajuan donasi\r\n      axios\r\n        .put(`/api/pengajuan_donasi/${id}`, this.form)\r\n        .then(response => {\r\n          // Tangani respons setelah permintaan berhasil\r\n          console.log(response.data);\r\n          window.location.reload();\r\n        })\r\n        .catch(error => {\r\n          // Tangani kesalahan jika permintaan gagal\r\n          console.error(error);\r\n        });\r\n    },\r\n    deleteForm(id) {\r\n      // Menggunakan metode DELETE untuk menghapus pengajuan donasi\r\n      axios\r\n        .delete(`/api/pengajuan_donasi/${id}`)\r\n        .then(response => {\r\n          // Tangani respons setelah permintaan berhasil\r\n          console.log(response.data);\r\n          window.location.reload();\r\n        })\r\n        .catch(error => {\r\n          // Tangani kesalahan jika permintaan gagal\r\n          console.error(error);\r\n        });\r\n    },\r\n    resetForm() {\r\n      // Mereset nilai form setelah berhasil mengirim data\r\n      this.form.nama_lengkap = '';\r\n      this.form.nomor_hp = '';\r\n      this.form.alasan = '';\r\n      this.form.tujuan_donasi = '';\r\n      this.form.nominal = '';\r\n      this.form.bukti1 = null;\r\n      this.form.bukti2 = null;\r\n    },\r\n    handleFile1(event) {\r\n      // Mengambil file yang diunggah\r\n      this.form.bukti1 = event.target.files[0];\r\n    },\r\n    handleFile2(event) {\r\n      // Mengambil file yang diunggah\r\n      this.form.bukti2 = event.target.files[0];\r\n    },\r\n  }\r\n};\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}